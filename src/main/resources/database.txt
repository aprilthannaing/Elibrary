CREATE TABLE `category` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `myanmarName` varchar(100) DEFAULT NULL,
 `engName` varchar(100) DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
PRIMARY KEY (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `subcategory` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `name` varchar(100) DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
PRIMARY KEY (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE category_subcategory(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
categoryId bigint(20) NOT NULL,
subcategoryId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (categoryId) REFERENCES category (id),
CONSTRAINT FOREIGN KEY (subcategoryId) REFERENCES subcategory (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `author` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `name` varchar(50) DEFAULT NULL,
 `profilePicture` varchar(255) DEFAULT NULL,
 `sort` varchar(50) DEFAULT NULL,
 `authorType` varchar(50) DEFAULT NULL, 
 `entityStatus` varchar(100) DEFAULT NULL,
PRIMARY KEY (`id`))ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `session` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `userboId` varchar(255) NOT NULL,
 `startDate` varchar(150) DEFAULT NULL,
 `endDate` varchar(150) DEFAULT NULL,
 `count` int(100) DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `70mfjwlofilskmofjfksokjs8d` (`id`),
 CONSTRAINT `70mfjwlofilskmofjfksokjs8d` FOREIGN KEY (`id`) REFERENCES `user` (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `hluttaw` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `boId` varchar(255) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;


CREATE TABLE `department` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `boId` varchar(255) NOT NULL,
  `hluttawboId` bigint NOT NULL,
  `code` varchar(20) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `FK_s9y70mfjwiqoafj94228` (`hluttawboId`),
  CONSTRAINT `FK_s9y70mfjwiqoafj94228` FOREIGN KEY (`hluttawboId`) REFERENCES `hluttaw` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;



CREATE TABLE `position` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `boId` varchar(255) NOT NULL,
  `code` varchar(20) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;


CREATE TABLE `user` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `hluttawboId` varchar(255) NOT NULL,
 `departmentboId` varchar(255) NOT NULL,
 `positionboId` varchar(255) NOT NULL,
 `name` varchar(100) DEFAULT NULL,
 `email`  varchar(100) DEFAULT NULL,
 `phoneNo`  varchar(100) DEFAULT NULL,
 `password`  varchar(255) DEFAULT NULL,
 `role`  varchar(100) DEFAULT NULL,
 `type` varchar(255) DEFAULT NULL,
 `expiredDate` varchar(100) DEFAULT NULL,
 `createdDate` varchar(255) DEFAULT NULL,
 `modifiedDate` varchar(255) DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
 PRIMARY KEY (`id`),
 KEY `FK_s9ffjsajfkhsj89797` (`id`),
 CONSTRAINT `FK_s9ffjsajfkhsj89797` FOREIGN KEY (`id`) REFERENCES `hluttaw` (`id`),
 KEY `FK_s9fffjwbesflkjso987` (`id`),
 CONSTRAINT `FK_s9fffjwbesflkjso987` FOREIGN KEY (`id`) REFERENCES `department` (`id`),
 KEY `FK_sfjfhwfwshiowse8975430` (`id`),
 CONSTRAINT `FK_sfjfhwfwshiowse8975430` FOREIGN KEY (`id`) REFERENCES `position` (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;


CREATE TABLE `history` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `dateTime`varchar(255) DEFAULT NULL,
 `workStatus` varchar(100) DEFAULT NULL, 
 `count` int(100) DEFAULT NULL,
 `toUserId` varchar(50) DEFAULT NULL, 
 `entityStatus` varchar(100) DEFAULT NULL,
userId bigint(20) NOT NULL,
bookId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (userId) REFERENCES user (id),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE category_subcategory(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
categoryId bigint(20) NOT NULL,
subcategoryId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (categoryId) REFERENCES category (id),
CONSTRAINT FOREIGN KEY (subcategoryId) REFERENCES subcategory (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `publisher` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `name` varchar(255) DEFAULT NULL,
 `sort` varchar(255) DEFAULT NULL, 
 `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;


CREATE TABLE `rating` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `rating` bigint(20) DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;


CREATE TABLE `comment` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL,
 `description` longText DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
)ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;


CREATE TABLE `book` (
 `id` bigint(20) NOT NULL AUTO_INCREMENT,
 `boId` varchar(255) NOT NULL, 
 `ISBN` varchar(150) DEFAULT NULL,
 `edition` int(50) DEFAULT NULL,
 `publishedYear` varchar(20) DEFAULT NULL,
 `title` varchar(100) DEFAULT NULL,
 `coverPhoto` varchar(255) DEFAULT NULL,
 `publishedDate` varchar(50) DEFAULT NULL,
 `volume` int(50) DEFAULT NULL,
 `state` varchar(50) DEFAULT NULL,
 `modifiedDate` varchar(50) DEFAULT NULL,
 `createdDate` varchar(50) DEFAULT NULL,
 `sort` varchar(50) DEFAULT NULL,
 `path` varchar(255) DEFAULT NULL,
 `seriesIndex` varchar(50) DEFAULT NULL,
 `size` varchar(50) DEFAULT NULL, 
 `callNo` varchar(50) DEFAULT NULL, 
 `accessionNo` varchar(50) DEFAULT NULL, 
 `downloadApproval` varchar(50) DEFAULT NULL,
 `entityStatus` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`id`)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE book_author(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
bookId bigint(20) NOT NULL,
authorId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id),
CONSTRAINT FOREIGN KEY (authorId) REFERENCES author (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE book_category(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
bookId bigint(20) NOT NULL,
categoryId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id),
CONSTRAINT FOREIGN KEY (categoryId) REFERENCES category (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE book_subcategory(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
bookId bigint(20) NOT NULL,
subcategoryId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id),
CONSTRAINT FOREIGN KEY (subcategoryId) REFERENCES subcategory (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE book_publisher(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
bookId bigint(20) NOT NULL,
publisherId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id),
CONSTRAINT FOREIGN KEY (publisherId) REFERENCES publisher (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE book_comment(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
bookId bigint(20) NOT NULL,
commentId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id),
CONSTRAINT FOREIGN KEY (commentId) REFERENCES comment (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;


CREATE TABLE book_rating(
`id` bigint(20) NOT NULL AUTO_INCREMENT,
bookId bigint(20) NOT NULL,
ratingId bigint(20)NOT NULL,
PRIMARY KEY (`id`),
CONSTRAINT FOREIGN KEY (bookId) REFERENCES book (id),
CONSTRAINT FOREIGN KEY (ratingId) REFERENCES rating (id)
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

alter table book modify column edition varchar(50);
alter table book modify column volume varchar(50);


